/*
 This library is very simple and only does 1 task really
 @author: Schalk Keun
 @script: sticky-items
 @pre-req: jquery -> https://developers.google.com/speed/libraries/
 OR
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

 @implement method:
 $(document).ready(function(){
     $('.sticky-element').stickyItem({
         top: 0,
         left: 'autoload',
         originalWidth:'autoload', // sticky item max-width setting, is responsive by default up to max-width
         background: '#faf7f7', // sticky element background, transparent default
         stopAt: false, // hide the element when it reaches this position.
         layer: 1000, // z-index layer
         parentStyles: {}, // extend styles for the parent element
         itemStyles: {}, // extend styles for the item element
         childrenStyles: {}, // extend styles for the children element(s)
         debug: false
     });
 });
 */
!function(t){t.fn.stickyItem=function(o){function i(){d||(h=c.offset().top)}function e(){("autoload"==a.left||0!=a.left)&&(a.left=c.offset().left)}function n(){"autoload"==a.originalWidth||0==a.originalWidth?(p=c.outerWidth(),a.originalWidth=p):p=f<a.originalWidth?f:a.originalWidth}function r(){var o=parseInt(a.top);a.debug&&(console.log("%cItem Width: "+p+", Original Width: "+a.originalWidth,l),console.log("%cTo Lock at: "+(h-o)+", Current Top: "+u,l)),0!=a.stopAt&&u>=a.stopAt&&s?(c.parent().animate({opacity:0},200),s=!1):!s&&u<a.stopAt&&0!=a.stopAt&&(c.parent().animate({opacity:1},200),s=!0),u>h-o?(d=!0,c.css(t.extend({background:a.background,"max-width":"100%",width:p,position:"fixed",left:a.left,top:a.top,"z-index":a.layer},a.itemStyles)).addClass("is-sticky"),c.children().css(t.extend({width:p,margin:"auto"},a.childrenStyles)),c.parent().css(t.extend({height:c.outerHeight(),width:"100%"},a.parentStyles))):(d=!1,c.parent().removeAttr("style"),c.removeAttr("style").removeClass("is-sticky"),c.children().removeAttr("style"))}if(void 0!==this.html()){var l="color: orange; font-size: 14px;",a=t.extend({top:0,left:"autoload",background:"transparent",stopAt:!1,originalWidth:"autoload",layer:99,parentStyles:{},itemStyles:{},childrenStyles:{},debug:!1},o),d=!1,s=!0,c=this,h=c.offset().top,p=c.outerWidth(),f=t(window).outerWidth(),u=t(window).scrollTop();c.wrap("<div></div>"),e(),i(),r(),t(window).scroll(function(){u=t(window).scrollTop(),n(),e(),i(),r()}),t(window).resize(function(){f=t(window).outerWidth(),n(),e(),i(),r()})}}}(jQuery);