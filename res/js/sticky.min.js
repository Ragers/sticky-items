/*
 This library is very simple and only does 1 task really
 @author: Schalk Keun
 @script: sticky-items
 @pre-req: jquery -> https://developers.google.com/speed/libraries/
 OR
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

 @implement method:
 $(document).ready(function(){
     $('.sticky-element').stickyItem({
         top: 0, // can also reference a single or multiple elements by ID or Class name
         left: 'autoload',
         originalWidth:'autoload', // sticky item max-width setting, is responsive by default up to max-width
         background: '#faf7f7', // sticky element background, transparent default
         stopAt: false, // hide the element when it reaches this position.
         layer: 1000, // z-index layer
         parentStyles: {}, // extend styles for the parent element
         itemStyles: {}, // extend styles for the item element
         childrenStyles: {}, // extend styles for the children element(s)
         responsive: true, // enabled by default, set to false to disable responsive calculation
         debug: false
     });
 });
 */
!function(t){t.fn.stickyItem=function(e){function o(){if("string"==typeof c)if(-1!==c.indexOf(",")){a.top=0;var e=c.split(",");for(var o in e)"undefined"!=t(e[o]).html()&&(a.top+=t(e[o]).height())}else a.top=t(o).height()}function i(){return a.responsive?(o(),v=t(window).scrollTop(),a.left="autoload",a.originalWidth="autoload",p=!1,f.parent().removeAttr("style"),f.removeAttr("style").removeClass("is-sticky"),f.children().removeAttr("style"),u=f.offset().top,y=f.outerWidth(),g=t(window).outerWidth(),void s()):!1}function r(){p||(u=f.offset().top)}function n(){("autoload"==a.left||0!=a.left)&&(a.left=f.offset().left)}function l(){"autoload"==a.originalWidth||0==a.originalWidth?(y=f.outerWidth(),a.originalWidth=y):y=g<a.originalWidth?g:a.originalWidth}function s(){var e=parseInt(a.top);a.debug&&(console.log("%cItem Width: "+y+", Original Width: "+a.originalWidth,d),console.log("%cTo Lock at: "+(u-e)+", Current Top: "+v,d)),0!=a.stopAt&&v>=a.stopAt&&h?(f.parent().animate({opacity:0},200),h=!1):!h&&v<a.stopAt&&0!=a.stopAt&&(f.parent().animate({opacity:1},200),h=!0),u>v?(p=!1,f.parent().removeAttr("style"),f.removeAttr("style").removeClass("is-sticky"),f.children().removeAttr("style")):v>u-e?(p=!0,f.css(t.extend({background:a.background,"max-width":"100%",width:y,position:"fixed",left:a.left,top:a.top,"z-index":a.layer},a.itemStyles)).addClass("is-sticky"),f.children().css(t.extend({width:y,margin:"auto"},a.childrenStyles)),f.parent().css(t.extend({height:f.outerHeight(),width:"100%"},a.parentStyles))):(p=!1,f.parent().removeAttr("style"),f.removeAttr("style").removeClass("is-sticky"),f.children().removeAttr("style"))}if(void 0!==this.html()){var d="color: orange; font-size: 14px;",a=t.extend({top:0,left:"autoload",background:"transparent",stopAt:!1,originalWidth:"autoload",layer:99,parentStyles:{},itemStyles:{},childrenStyles:{},responsive:!0,debug:!1},e),c=a.top;o();var p=!1,h=!0,f=this,u=f.offset().top,y=f.outerWidth(),g=t(window).outerWidth(),v=t(window).scrollTop();f.wrap("<div></div>"),n(),r(),s(),t(window).scroll(function(){v=t(window).scrollTop(),o(),l(),n(),r(),s()}),t(window).resize(function(){g=t(window).outerWidth(),i(),l(),n(),r(),s()})}}}(jQuery);